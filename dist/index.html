<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Simple JS Calculator</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="main.css" />
</head>

<body>
  <div class="wrapper">
    <main id="main">
      <form id="calculator">
        <input type="text" placeholder="0" class="display" role="alert" aria-live="assertive" />
        <fieldset class="numbers">
          <div>
            <button type="button" value="0">0</button>
            <button type="button" value=".">.</button>
            <button type="button" value="1">1</button>
            <button type="button" value="2">2</button>
            <button type="button" value="3">3</button>
            <button type="button" value="4">4</button>
            <button type="button" value="5">5</button>
            <button type="button" value="6">6</button>
            <button type="button" value="7">7</button>
            <button type="button" value="8">8</button>
            <button type="button" value="9">9</button>
          </div>
        </fieldset>
        <fieldset class="operators">
          <div>
            <button type="button" value="/">&divide;</button>
            <button type="button" value="*">&times;</button>
            <button type="button" value="-">&minus;</button>
            <button type="button" value="+">&plus;</button>
          </div>
        </fieldset>
        <button type="reset" value="AC">All clear</button>
        <button type="submit" value="=">=</button>
      </form>
    </main>
  </div>
  
  <script>
    var scripts = [
        "main.js"
      ],
      src,
      script,
      pendingScripts = [],
      firstScript = document.scripts[0];

    // if (typeof Function.prototype.bind !== "function") {

    //   scripts.unshift("js/polyfills/bind_polyfill.js");

    // }

    // if ("classList" in document.documentElement === false) {

    //   scripts.unshift("js/polyfills/classlist_polyfill.js");

    // }

    // if (!window.requestAnimationFrame) {

    //   scripts.unshift("js/polyfills/animframe_polyfill.js");

    // }

    // Watch scripts load in IE
    function stateChange() {
      // Execute as many scripts in order as we can

      var pendingScript;

      while (pendingScripts[0] && pendingScripts[0].readyState == 'loaded') {
        pendingScript = pendingScripts.shift();
        // avoid future loading events from this script (eg, if src changes)
        pendingScript.onreadystatechange = null;
        // can't just appendChild, old IE bug if element isn't closed
        firstScript.parentNode.insertBefore(pendingScript, firstScript);
      }

    }

    // loop through our script urls
    while (src = scripts.shift()) {

      if ('async' in firstScript) { // modern browsers

        script = document.createElement('script');
        script.async = false;
        script.src = src;
        document.body.appendChild(script);

      } else if (firstScript.readyState) { // IE<10
        // create a script and add it to our todo pile
        script = document.createElement('script');
        pendingScripts.push(script);
        // listen for state changes
        script.onreadystatechange = stateChange;
        // must set src AFTER adding onreadystatechange listener
        // else we’ll miss the loaded event for cached scripts
        script.src = src;
      } else { // fall back to defer
        document.write('<script src="' + src + '" defer></' + 'script>');
      }
    }
  </script>

  <script>

    if ('serviceWorker' in navigator) {  

      navigator.serviceWorker.register('/sw.js')
        .then(function (registration) {    // Registration was successful
             
          console.log('ServiceWorker registration successful with scope: ', registration.scope);  

        }).catch(function (err) {    // registration failed :(
             
          console.log('ServiceWorker registration failed: ', err);  
        });

    }
  </script>
</body>

</html>